<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/blogs/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/blogs/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blogs/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/blogs/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/blogs/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/blogs/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/blogs/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />




  


  <link rel="alternate" href="/blogs/atom.xml" title="StriveZs的博客" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="StriveZs的博客">
<meta property="og:url" content="www.strivezs.com/page/13/index.html">
<meta property="og:site_name" content="StriveZs的博客">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="StriveZs">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blogs/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'StriveZs'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="www.strivezs.com/page/13/"/>





  <title>StriveZs的博客</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5c8bbf815dac51a855060f947b787303";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blogs/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">StriveZs的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blogs/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/blogs/about/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blogs/tags/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/blogs/categories/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blogs/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/blogs/schedule/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            Schedule
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/blogs/sitemap.xml%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/08/28/duo-zhong-qun-yi-chuan-suan-fa-de-han-shu-you-hua-suan-fa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/08/28/duo-zhong-qun-yi-chuan-suan-fa-de-han-shu-you-hua-suan-fa/" itemprop="url">多种群遗传算法的函数优化算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-28T16:40:46+08:00">
                2018-08-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">优化算法</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E5%A4%9A%E7%A7%8D%E7%BE%A4%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%EF%BC%88MPGA%EF%BC%89/" itemprop="url" rel="index">
                    <span itemprop="name">多种群遗传算法（MPGA）</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E5%A4%9A%E7%A7%8D%E7%BE%A4%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%EF%BC%88MPGA%EF%BC%89/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E5%A4%9A%E7%A7%8D%E7%BE%A4%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%EF%BC%88MPGA%EF%BC%89/%E6%96%87%E7%AB%A0%E9%A1%B5/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>多种群遗传算法的函数优化算法（MPGA）</strong> <strong>多种群遗传算法（MPGA）概述</strong> MPGA在GA的基础上主要引入了一下几个概念：</p>
<ul>
<li>突破GA仅靠单个群体进行遗传进化的框架，引入多个种群问题同时进行优化搜索；不同的种群赋以不用的控制参数，实现不同的搜索的目的。</li>
<li>各个种群之间通过移民算子进行联系，实现多种群的协同进化；最优解的获取是多个种群协同进化的综合结果。</li>
<li>通过人工选择算子保存各种群每个进化代中的最优个体，并作为判断算法收敛的依据。</li>
</ul>
<p>MPGA的算法结构示意图 <img src="http://47.100.4.8/wp-content/uploads/2018/08/1-1.png" alt="">   这里的SGA就是标准GA，由上图可以看出每个种群还是遵循GA中的算法准则，只不过是通过移民算子以及人工选择将最优的解结合到了一起。 各种群取不同的控制参数。交叉概率Pc和变异概率Pm的取值决定了算法全局搜索和拒不搜索能力的均衡。在GA中，交叉算子是产生新个体的主要算子，它决定了遗传算法全局搜索的能力；而变异算子只是产生新个体的辅助算子，它决定了遗传算法的局部搜索能力。大多数认为Pc在0.7<del>0.9最为合适，Pm在0.001</del>0.05之间最为合适。但是他们的取值方式还是有无数种的，对于不同的取值方式，优化结果差异也是很大的。MPGA弥补了GA的这一不足，通过多个设有不同控制参数的种群协同进化，同时兼顾了算法的全局搜索和局部搜索。 各种群是相对独立的，相互之间通过移民算子联系。移民算子将各种群在进化过程中出现的最优个体定期地（每隔一定的进化代数）引入其他的种群中，实现种群之间的信息交换。具体的操作规则是，将目标种群中的最差个体用源种群的最优个体替代。移民算子在MPGA中至关重要，如果没有银民算子，各种群之间失去联系，MPGA将等同于用不同的控制参数进行多次GA计算，从而是去了MPGA的特色。 精华种群和其他种群有很大不同。在金华的每一代，通过人工选择算子选出其他种群的 最优个体放入精华种群加以保存。精华种群不进行选择、交叉、变异等遗传操作，保证进化过程中各种群产生的最优个体不被破坏和丢失。同时，精华种群也是判断算法终止的依据。这里采用最优个体最少保持代数作为最终判断依据。这种判断充分利用了遗传算法在进化过程中的知识积累，较最大遗传代数判据更为合理。   <strong>问题描述</strong> 复杂二元函数求最值： <strong>max f(x,y) = 21.5 + xsin(4πx) + ysin(20πy)</strong> 图像生成代码：  </p>
<p>clear;</p>
<p>[X,Y] = meshgrid(-10:0.355:10);</p>
<p>Z = 21.5 + X.*sin(4*pi.*X) + Y.*sin(20*pi.*Y);</p>
<p>surf(X,Y,Z);</p>
<p>图像： <img src="http://47.100.4.8/wp-content/uploads/2018/08/2-1.png" alt=""> 由上图可以看出该函数在区间内分布着多个局部极值，这样如果使用普通的遗传算法很容易出现早熟的现象，因此多种群遗传算法比较适合。 该问题所使用到的遗传算法工具箱的函数列表：</p>
<p>算子</p>
<p>函数</p>
<p>功能</p>
<p>创建种群</p>
<p>Crtbp</p>
<p>创建基向量</p>
<p>适应度计算</p>
<p>Ranking</p>
<p>常用的基于秩的适应度计算</p>
<p>  选择函数</p>
<p>Select</p>
<p>高级选择函数</p>
<p>Sus</p>
<p>随机变异采样</p>
<p>Reins</p>
<p>一致随机和基于适应度的重插入</p>
<p>交叉算子</p>
<p>Recombin</p>
<p>高级重组算子</p>
<p>Xovsp</p>
<p>单点交叉</p>
<p>变异算子</p>
<p>Mut</p>
<p>离散变异</p>
<p>  <strong>移民算子</strong> 函数名为immigrant，函数的输入、输出参数如下：</p>
<p>变量名</p>
<p>类型</p>
<p>意义</p>
<p>输入参数</p>
<p>Chrom</p>
<p>Cell</p>
<p>每个元细胞单元为一个种群的编码（移民前）</p>
<p>ObjV</p>
<p>Cell</p>
<p>每个元细胞为一个种群所有个体的目标值（移民前）</p>
<p>输出参数</p>
<p>Chrom</p>
<p>Cell</p>
<p>每个元细胞单元为一个种群的编码（移民后）</p>
<p>ObjV</p>
<p>Cell</p>
<p>每个元细胞为一个种群所有个体的目标值（移民后）</p>
<p>代码：</p>
<p>function [Chrom,ObjV]=immigrant(Chrom,ObjV)<br>%% 移民算子<br>MP=length(Chrom); %得到种群个数<br>% 遍历每个种群寻找到其中的最优解<br>for i=1:MP<br>    [MaxO,maxI]=max(ObjV{i});  % 找出第i种群中最优的个体的值以及它的序号<br>    next_i=i+1;                % 目标种群（移民操作中） 到下一个种群<br>    if next_i&gt;MP % 如果 i的值大于总的种群个数 使用取模操作回到开头<br>        next_i=mod(next_i,MP);<br>    end<br>    [MinO,minI]=min(ObjV{next_i});          %  找出目标种群中最劣的个体<br>    %% 目标种群最劣个体替换为源种群最优个体<br>    Chrom{next_i}(minI,:)=Chrom{i}(maxI,:);<br>    ObjV{next_i}(minI)=ObjV{i}(maxI); %目标值的替换<br>end </p>
<p><strong>人工选择算子</strong> 函数名为EliteInduvidual，函数的输入、输出参数如下：</p>
<p>变量名</p>
<p>意义</p>
<p>输入参数</p>
<p>Chrom</p>
<p>每个元细胞单元为一个种群的编码（移民前）</p>
<p>ObjV</p>
<p>每个元细胞为一个种群所有个体的目标值（移民前）</p>
<p>MaxObjV</p>
<p>各个种群当前最优个体的目标值（选择前）</p>
<p>MaxChrom</p>
<p>各个种群当前最优个体的编码（选择前）</p>
<p>输出参数</p>
<p>MaxObjV</p>
<p>各个种群当前最优个体的目标值（选择后）</p>
<p>MaxChrom</p>
<p>各个种群当前最优的编码（选择后）</p>
<p>代码：</p>
<p>function [MaxObjV,MaxChrom]=EliteInduvidual(Chrom,ObjV,MaxObjV,MaxChrom)<br>%% 人工选择算子<br>MP=length(Chrom);  %种群数<br>for i=1:MP<br>    [MaxO,maxI]=max(ObjV{i});   %找出第i种群中最优个体以及编号<br>    if MaxO&gt;MaxObjV(i) %如果选择出来的最优个体的目标值大于当前种群最优的目标值<br>        MaxObjV(i)=MaxO;         %记录各种群的精华个体<br>        MaxChrom(i,:)=Chrom{i}(maxI,:);  %记录各种群精华个体的编码<br>    end<br>end </p>
<p><strong>目标函数</strong> 针对提出问题写出来的目标函数 代码：</p>
<p>function obj=ObjectFunction(X)<br>%% 待优化的目标函数<br>col=size(X,1); %得到个体个数<br>for i=1:col %计算种群每个个体对应的目标值<br>    obj(i,1)=21.5+X(i,1)*sin(4*pi*X(i,1))+X(i,2)*sin(20*pi*X(i,2));<br>end </p>
<p><strong>MPGA：</strong></p>
<p>%% 2、多种群遗传算法<br>clear;<br>clc<br>NIND=40;               %个体数目<br>NVAR=2;                %变量的维数<br>PRECI=20;              %变量的二进制位数<br>GGAP=0.9;              %代沟<br>MP=10;                 %种群数目<br>FieldD=[rep(PRECI,[1,NVAR]);[-3,4.1;12.1,5.8];rep([1;0;1;1],[1,NVAR])];  %译码矩阵<br>for i=1:MP<br>    Chrom{i}=crtbp(NIND, NVAR<em>PRECI);                       %创建初始种群<br>end<br>pc=0.7+(0.9-0.7)</em>rand(MP,1);    %在【0.7,0.9】范围i内随机产生交叉概率<br>pm=0.001+(0.05-0.001)<em>rand(MP,1);  %在【0.001,0.05】范围内随机产生变异概率<br>gen=0;  %初始遗传代数<br>gen0=0; %初始保持代数<br>MAXGEN=10;  %最优个体最少保持代数<br>maxY=0; %最优值<br>for i=1:MP<br>    ObjV{i}=ObjectFunction(bs2rv(Chrom{i}, FieldD));%计算各初始种群个体的目标函数值<br>end<br>MaxObjV=zeros(MP,1);           %记录精华种群<br>MaxChrom=zeros(MP,PRECI</em>NVAR); %记录精华种群的编码<br>% 结束条件为如果进行MAXGEN+1次优秀的迭代 则结束循环（即每次得到的最优结果都比前面的值好）<br>while gen0&lt;=MAXGEN<br>    gen=gen+1;       %遗传代数加1<br>    for i=1:MP<br>        FitnV{i}=ranking(-ObjV{i});                      % 各种群的适应度<br>        SelCh{i}=select(‘sus’, Chrom{i}, FitnV{i},GGAP); % 选择操作<br>        SelCh{i}=recombin(‘xovsp’,SelCh{i}, pc(i));      % 交叉操作<br>        SelCh{i}=mut(SelCh{i},pm(i));                    % 变异操作<br>        ObjVSel=ObjectFunction(bs2rv(SelCh{i}, FieldD)); % 计算子代目标函数值<br>        [Chrom{i},ObjV{i}]=reins(Chrom{i},SelCh{i},1,1,ObjV{i},ObjVSel);    %重插入操作<br>    end<br>    [Chrom,ObjV]=immigrant(Chrom,ObjV);     % 移民操作<br>    [MaxObjV,MaxChrom]=EliteInduvidual(Chrom,ObjV,MaxObjV,MaxChrom);     % 人工选择精华种群<br>    YY(gen)=max(MaxObjV);    %找出精华种群中最优的个体<br>    if YY(gen)&gt;maxY   %判断当前优化值是否与前一次优化值相同<br>        maxY=YY(gen); %更新最优值<br>        gen0=0;<br>    else<br>        gen0=gen0+1; %最优值保持次数加1<br>    end<br>end<br>%% 进化过程图<br>plot(1:gen,YY);<br>xlabel(‘进化代数’)<br>ylabel(‘最优解变化’)<br>title(‘MPGA进化过程’)</p>
<p>%% 输出最优解<br>[Y,I]=max(MaxObjV);    %找出精华种群中最优的个体<br>X=(bs2rv(MaxChrom(I,:), FieldD));   %最优个体的解码解<br>disp([‘最优值为：’,num2str(Y)])<br>disp([‘对应的自变量取值：’,num2str(X)]) </p>
<p>结果： 最优值为：38.8503 对应的自变量取值：11.6255      5.72504 <img src="http://47.100.4.8/wp-content/uploads/2018/08/3-1.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/08/22/yi-chuan-suan-fa-de-zao-shu-wen-ti/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/08/22/yi-chuan-suan-fa-de-zao-shu-wen-ti/" itemprop="url">遗传算法的早熟问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-22T09:40:36+08:00">
                2018-08-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/" itemprop="url" rel="index">
                    <span itemprop="name">GA</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/%E6%96%87%E7%AB%A0%E9%A1%B5/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/08/QQ%E5%9B%BE%E7%89%8720180822093955.png" alt=""> <strong>遗传算法的早熟问题</strong> <strong>遗传算法是一种借鉴生物界自然选择和进化机制发展起来的高度并行、随机、自适应的全局优化概率搜索算法。由于优化时不依赖于梯度，具有很强的鲁棒性和全局搜索能力，因此，被广泛应用于机器学习、模式识别、数学规划等领域。然而，随着遗传算法的广泛应用以及研究的深入，其诸多缺陷与不足也暴露出来，早熟收敛正是其中的一大问题。</strong> 未成熟收敛是遗传算法中不可忽视的现象，主要表现在群体中的所有个体趋于同一状态而停止进化（也就是过早收敛），算法最终不能给出令人满意的解。未成熟收敛的发生主要和下列几个方面有关：</p>
<ul>
<li>选择操作是根据当前群体中个体的适应度值所决定的概率进行的，当群体中存在个体超常个体时（该个体的适应度比其他个体高得多），该个体在选择算子作用下将会多次被选中，下一代群体很快被该个体所控制，群体中失去竞争性，从而导致群体停滞不前。</li>
<li>交叉和变异操作发生的频度是受交叉概率Pc和变异概率Pm控制的。Pc和Pm的恰当设定涉及遗传算法全局搜索和局部搜索的能力的均衡，进化搜索的最终结果对Pc和Pm的取值相当敏感，不同的Pc、Pm取值很可能会导致不同的计算结果。</li>
<li>群体规模对遗传算法的优化性能也有较大的影响。当全体规模较小时，群体中多样性程度低，个体之间竞争性较弱，随着进化的进行，群体很快趋于单一化，交叉操作产生新个体的作用渐趋消失，群体的更新只靠变异操作来维持，群体很快终止进化，当群体规模取值较大时，势必造成计算量的增加，计算效率收到影响</li>
<li>遗传算法常用的终止判据是，当迭代次数到达认为规定的最大遗传代数时，则终止进化。如迭代次数过少，进化不充分，也会造成不成熟收敛。为克服未成熟收敛，对遗传控制参数的设定尤为重要，因此自适应的交叉和变异得以出现。</li>
</ul>
<p>由于早熟现象的产生，因此又出现了其他算法来避免这一问题，如：粒子种群算法（PSO），多种群遗传算法等</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/08/19/ji-yu-ga-de-tsp-suan-fa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/08/19/ji-yu-ga-de-tsp-suan-fa/" itemprop="url">基于GA的TSP算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-19T17:43:12+08:00">
                2018-08-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/" itemprop="url" rel="index">
                    <span itemprop="name">GA</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/TSP%E9%97%AE%E9%A2%98/" itemprop="url" rel="index">
                    <span itemprop="name">TSP问题</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/TSP%E9%97%AE%E9%A2%98/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">优化算法</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/TSP%E9%97%AE%E9%A2%98/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/TSP%E9%97%AE%E9%A2%98/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/08/QQ%E5%9B%BE%E7%89%8720180819172202.png" alt=""> <strong>TSP问题简介：</strong> 旅行商问题，即TSP问题（Traveling Salesman Problem）是数学领域中著名问题之一。假设有一个旅行商人要拜访N个城市，他必须选择所要走的路径，路径的限制是每个城市只能拜访一次，而且最后要回到原来出发的城市。路径的选择目标是要求得的路径路程为所有路径之中的最小值。TSP问题是一个<a href="https://baike.baidu.com/item/NPC/658479" target="_blank" rel="noopener">NPC</a>问题，即为在最坏的情况下的时间复杂度随着问题规模的增大按指数方式增长。 这里使用遗传算法（GA）来解决这个问题 <strong>问题描述：</strong>已知N个城市之间相互的距离，某一旅行商从某个城市出发访问每个城市一次且仅访问一次，最后回到出发城市，如何安排才使其所走路线最短，实质上就是寻找一条最短的路径能够遍历N个城市。 <strong>问题介绍：</strong> 这里通过给定十四个城市的坐标来寻找一条最短路径 <img src="http://47.100.4.8/wp-content/uploads/2018/08/QQ%E5%9B%BE%E7%89%8720180819172609.png" alt=""> 算法流程： <img src="http://47.100.4.8/wp-content/uploads/2018/08/12.png" alt=""> 使用遗传算法实现：</p>
<ul>
<li><strong>编码</strong></li>
</ul>
<p>采用整数排列的方式，对于本案例中十四个城市的TSP问题，将染色体分别十四段，每一段对应一个城市的编号，例如对十个城市的TSP问题{1,2,3,4,5,6,7,8,9,10}，则|1|2|3|5|7|4|10|8|9|6|8|是一个合法的染色体。</p>
<ul>
<li><strong>种群初始化</strong></li>
</ul>
<p>在完成染色体编码以后，必须产生一个初始种群作为起始种群解，所以首先需要决定初始化种群的数目一般根据经验得到，一般情况下种群的数量视城市规模的大小而确定，其取值在50~200之间浮动</p>
<ul>
<li><strong>适应度函数</strong></li>
</ul>
<p>设|k1|k2|……|kn|为一个采用整数编码的染色体，Dkikj为城市ki到城市kj的距离，则该个体的适应度为 即为恰好走完n个城市，再回到出发城市的距离的倒数。优化目标是选择适应度值尽可能大的染色体，这样也就是走的距离短的染色体，这样的染色体更好。</p>
<ul>
<li><strong>选择操作</strong>即从旧群体中以一定概率选择个体到新群体中，个体被选中的概率跟适应度值有关，个体适应度越大，被选中的概率越高</li>
<li><strong>交叉操作</strong></li>
</ul>
<p>采用部分映射杂交，确定交叉操作的父代，将父代样本两两分组，每组重复一下过程，进行交叉，如r1=4，r2=7 <img src="http://47.100.4.8/wp-content/uploads/2018/08/13.png" alt=""> 交叉后被交换的位置基因不改变，其他段的基因由于和被交换的段的基因冲突，要采用部分映射的方法消除冲突（利用中间段）消除冲突后的结果为： <img src="http://47.100.4.8/wp-content/uploads/2018/08/14.png" alt="">、</p>
<ul>
<li><strong>变异操作</strong></li>
</ul>
<p>变异策略是采取随机选取两个点，将其对换位置。随机产生在[1,10]之间的两个整数r1和r2，确定两个基因后对换两个基因的的位置。 如： <img src="http://47.100.4.8/wp-content/uploads/2018/08/15.png" alt=""></p>
<ul>
<li><strong>进化逆转操作</strong></li>
</ul>
<p>为改善遗传算法的局部搜索能力，在选择、变异、交叉之后引进连续多次的进化逆转操作。这里的进化是指逆转算子的单方向性，只有经过逆转后，适应度值有提高的才能接受下来，否则逆转无效。 随机战胜两个[1,10]之间的数，将其对应的基因对换位置 如r1=4，r2=7 <img src="http://47.100.4.8/wp-content/uploads/2018/08/16.png" alt=""> 下面给出MatLab代码： <strong>首先给出主函数GA_TSP</strong></p>
<p>%遗传算法求解TSP问题<br>%输入：<br>%D       距离矩阵<br>%NIND    为种群个数<br>%X       参数是中国34个城市的坐标(初始给定)<br>%MAXGEN  为停止代数，遗传到第MAXGEN代时程序停止,MAXGEN的具体取值视问题的规模和耗费的时间而定<br>%m       为适值淘汰加速指数,最好取为1,2,3,4,不宜太大<br>%Pc      交叉概率<br>%Pm      变异概率<br>%输出：<br>%R       为最短路径<br>%Rlength 为路径长度<br>clear<br>clc<br>close all<br>%% 加载数据<br>% 加载所有城市的坐标从1-14<br>X = [[16.4700000000000,96.1000000000000;16.4700000000000,94.4400000000000;20.0900000000000,92.5400000000000;22.3900000000000,93.3700000000000;25.2300000000000,97.2400000000000;22,96.0500000000000;20.4700000000000,97.0200000000000;17.2000000000000,96.2900000000000;16.3000000000000,97.3800000000000;14.0500000000000,98.1200000000000;16.5300000000000,97.3800000000000;21.5200000000000,95.5900000000000;19.4100000000000,97.1300000000000;20.0900000000000,92.5500000000000]];<br>D=Distanse(X);  %生成距离矩阵  具体的是根据坐标X 将以上信息转换为一个对称的距离矩阵<br>N=size(D,1);    %城市个数<br>%% 遗传参数<br>NIND=100;       %种群大小  代表有Nind种路径<br>MAXGEN=200;     %最大遗传代数<br>Pc=0.9;         %交叉概率<br>Pm=0.05;        %变异概率<br>GGAP=0.9;       %代沟<br>%% 初始化种群<br>Chrom=InitPop(NIND,N); %根据种群大小和基因长度<br>%% 画出随机解的路径图<br>DrawPath(Chrom(1,:),X) %将随机初始化种群的第一种解用来画出路径图<br>pause(0.0001)  %用来放慢速度  和 C++ 中的Time类似<br>%% 输出随机解的路径和总距离<br>disp(‘初始种群中的一个随机值:’)<br>OutputPath(Chrom(1,:));  %输出路径<br>Rlength=PathLength(D,Chrom(1,:)); %根据距离矩阵和路线来计算路径长度<br>disp([‘总距离：’,num2str(Rlength)]);<br>disp(‘<del>~</del>‘)<br>%% 优化<br>gen=0;  %初始化迭代代数<br>figure;<br>hold on;box on<br>xlim([0,MAXGEN])<br>title(‘优化过程’)<br>xlabel(‘代数’)<br>ylabel(‘最优值’)<br>ObjV=PathLength(D,Chrom);  %计算每一代的路径长度<br>preObjV=min(ObjV); %得到最小的路径长度<br>while gen&lt;MAXGEN<br>    %% 计算适应度<br>    ObjV=PathLength(D,Chrom);  %计算每一代的路径长度<br>    % fprintf(‘%d   %1.10f\n’,gen,min(ObjV))<br>    line([gen-1,gen],[preObjV,min(ObjV)]); % 用来在图上画出适应度减少的过程<br>    pause(0.0001) % 延迟效果<br>    preObjV=min(ObjV); % 得到最小的路径长度<br>    FitnV=Fitness(ObjV);  % 计算适应度（路径越长倒数越小，方便选择）<br>    %% 选择<br>    SelCh=Select(Chrom,FitnV,GGAP); %根据适应度和代沟进行子代的选择<br>    %% 交叉操作<br>    SelCh=Recombin(SelCh,Pc);<br>    %% 变异<br>    SelCh=Mutate(SelCh,Pm);<br>    %% 逆转操作<br>    SelCh=Reverse(SelCh,D);<br>    %% 重插入子代的新种群<br>    Chrom=Reins(Chrom,SelCh,ObjV);<br>    %% 更新迭代次数<br>    gen=gen+1 ;<br>end<br>%% 画出最优解的路径图<br>ObjV=PathLength(D,Chrom);  %计算路径长度<br>[minObjV,minInd]=min(ObjV);<br>DrawPath(Chrom(minInd(1),:),X)<br>%% 输出最优解的路径和总距离<br>disp(‘最优解:’)<br>p=OutputPath(Chrom(minInd(1),:));<br>disp([‘总距离：’,num2str(ObjV(minInd(1)))]);<br>disp(‘————————————————————-‘)</p>
<p><strong>计算距离的函数：</strong></p>
<p>%% 计算两两城市之间的距离<br>%输入 a  各城市的位置坐标<br>%输出 D  两两城市之间的距离<br>function D=Distanse(a)<br>row=size(a,1); %得到城市的个数<br>D=zeros(row,row); %初始化一个全为0的距离矩阵<br>for i=1:row  %每个城市所对应的距离矩阵的那一行<br>    for j=i+1:row %遍历该行出该城市之外往后的所有城市<br>        D(i,j)=((a(i,1)-a(j,1))^2+(a(i,2)-a(j,2))^2)^0.5;  %根据坐标计算距离<br>        D(j,i)=D(i,j); % 实现对称<br>    end<br>end</p>
<p><strong>初始化种群的函数：</strong></p>
<p>%% 初始化种群<br>%输入：<br>% NIND：种群大小<br>% N：   个体染色体长度（这里为城市的个数）<br>%输出：<br>%初始种群<br>function Chrom=InitPop(NIND,N)<br>Chrom=zeros(NIND,N);%初始一个全0位的矩阵用于存储种群<br>for i=1:NIND %遍历每个染色体（个体）<br>    Chrom(i,:)=randperm(N);%随机生成初始种群  randperm的作用是生成N个由1-N构成的序列（里面元素不能重复）<br>end</p>
<p><strong>画出城市之间路径的函数：</strong></p>
<p>%% 画路径函数<br>%输入<br>% Chrom  待画路径<br>% X      各城市坐标位置<br>function DrawPath(Chrom,X)<br>R=[Chrom(1,:) Chrom(1,1)]; %一个随机解(个体) 并且将基因中首个城市添加到基因末尾 用来构成一个循环<br>% 开始画图<br>figure;<br>hold on<br>plot(X(:,1),X(:,2),’o’,’color’,[0.5,0.5,0.5])<br>plot(X(Chrom(1,1),1),X(Chrom(1,1),2),’rv’,’MarkerSize’,20)<br>% 将每个城市对应的点画出来<br>for i=1:size(X,1)<br>    text(X(i,1)+0.05,X(i,2)+0.05,num2str(i),’color’,[1,0,0]);<br>end<br>A=X(R,:);<br>row=size(A,1);<br>% 根据得到的R序列进行连线<br>for i=2:row<br>    [arrowx,arrowy] = dsxy2figxy(gca,A(i-1:i,1),A(i-1:i,2));%坐标转换<br>    annotation(‘textarrow’,arrowx,arrowy,’HeadWidth’,8,’color’,[0,0,1]);<br>end<br>hold off<br>xlabel(‘横坐标’)<br>ylabel(‘纵坐标’)<br>title(‘轨迹图’)<br>box on</p>
<p><strong>计算该种路径的总距离的函数：</strong></p>
<p>%% 计算各个体的路径长度<br>% 输入：<br>% D     两两城市之间的距离<br>% Chrom 个体的轨迹<br>function len=PathLength(D,Chrom)<br>[row,col]=size(D); %得到距离矩阵的长宽<br>NIND=size(Chrom,1); %得到种群的总个数<br>len=zeros(NIND,1); %初始化一个用来存储距离的矩阵<br>for i=1:NIND<br>    p=[Chrom(i,:) Chrom(i,1)]; %得到该基因对应的城市路线<br>    i1=p(1:end-1);<br>    i2=p(2:end);<br>    len(i,1)=sum(D((i1-1)*col+i2)); %进行距离计算<br>end</p>
<p><strong>输出路径的函数：</strong></p>
<p>%% 输出路径函数<br>%输入：R 路径<br>function p=OutputPath(R)<br>R=[R,R(1)]; %同样要构成一个城市循环 从A-&gt;X-&gt;……-&gt;A<br>N=length(R);  %得到城市总数<br>p=num2str(R(1));  % 强制类型转换<br>for i=2:N<br>    p=[p,’—&gt;’,num2str(R(i))];<br>end<br>disp(p)</p>
<p><strong>适应度计算函数：</strong></p>
<p>%% 适配值函数<br>%输入：<br>%个体的长度（TSP的距离）<br>%输出：<br>%个体的适应度值<br>function FitnV=Fitness(len)<br>FitnV=1./len; %倒数计算</p>
<p><strong>选择函数：</strong></p>
<p>%% 选择操作<br>%输入<br>%Chrom 种群<br>%FitnV 适应度值<br>%GGAP：代沟<br>%输出<br>%SelCh  被选择的个体<br>function SelCh=Select(Chrom,FitnV,GGAP)<br>NIND=size(Chrom,1); %得到种群的染色体个数<br>NSel=max(floor(NIND*GGAP+.5),2); %通过代沟计算能够保留下的来的个体<br>ChrIx=Sus(FitnV,NSel); %进行选择<br>SelCh=Chrom(ChrIx,:);</p>
<p>Sus函数：</p>
<p>% 输入:<br>%FitnV  个体的适应度值<br>%Nsel   被选择个体的数目<br>% 输出:<br>%NewChrIx  被选择个体的索引号<br>function NewChrIx = Sus(FitnV,Nsel)<br>[Nind,ans] = size(FitnV); %得到种群个体个数<br>cumfit = cumsum(FitnV); %依次累加适应度并输出 每次累加的内容 从小到大<br>trials = cumfit(Nind) / Nsel * (rand + (0:Nsel-1)’); %计算出可以选择出适当个数的染色体的适应度标值<br>Mf = cumfit(:, ones(1, Nsel));<br>Mt = trials(:, ones(1, Nind))’;<br>[NewChrIx, ans] = find(Mt &lt; Mf &amp; [ zeros(1, Nsel); Mf(1:Nind-1, :) ] &lt;= Mt); %根据适应度标志选择能够遗传下来的个体<br>[ans, shuf] = sort(rand(Nsel, 1));<br>NewChrIx = NewChrIx(shuf);</p>
<p><strong>交叉操作函数：</strong></p>
<p>%% 交叉操作<br>% 输入<br>%SelCh  被选择的个体<br>%Pc     交叉概率<br>%输出：<br>% SelCh 交叉后的个体<br>function SelCh=Recombin(SelCh,Pc)<br>NSel=size(SelCh,1); %得到被选择之后种群的个数<br>for i=1:2:NSel-mod(NSel,2)<br>    if Pc&gt;=rand %交叉概率Pc<br>        [SelCh(i,:),SelCh(i+1,:)]=intercross(SelCh(i,:),SelCh(i+1,:)); %如果满足交叉概率<br>    end<br>end</p>
<p>%输入：<br>%a和b为两个待交叉的个体<br>%输出：<br>%a和b为交叉后得到的两个个体</p>
<p>function [a,b]=intercross(a,b)<br>L = length(a); %得到个体的长度<br>r1 = randsrc(1,1,[1:L]); %表示产生1行1列在区间{1，L}之间的随机数<br>r2 = randsrc(1,1,[1:L]); %产生第二个位置<br>if r1 <del>= r2  %</del>= 为不等于的意思<br>    a0=a;b0=b;<br>    s=min([r1,r2]);<br>    e=max([r1,r2]);<br>    for i=s:e<br>        a1=a;b1=b;<br>        %将对应的位置进行交换<br>        a(i)=b0(i);<br>        b(i)=a0(i);<br>        x=find(a==a(i));<br>        y=find(b==b(i));<br>        i1=x(x<del>=i);<br>        i2=y(y</del>=i);<br>        %处理如果该染色体中存在该基因<br>        if ~isempty(i1)<br>            a(i1)=a1(i);<br>        end<br>        if ~isempty(i2)<br>            b(i2)=b1(i);<br>        end<br>    end<br>end</p>
<p><strong>变异操作函数：</strong></p>
<p>%% 变异操作<br>%输入：<br>%SelCh  被选择的个体<br>%Pm     变异概率<br>%输出：<br>% SelCh 变异后的个体<br>function SelCh=Mutate(SelCh,Pm)<br>[NSel,L]=size(SelCh); %得到遗传之后的种群个体个数和基因长度<br>for i=1:NSel<br>    if Pm&gt;=rand %如果随机数满足变异概率则进行变异<br>        R=randperm(L); %随机一个新的序列<br>        SelCh(i,R(1:2))=SelCh(i,R(2:-1:1)); %将该序列插入到已有的种群中<br>    end<br>end</p>
<p><strong>逆转操作函数：</strong></p>
<p>%% 进化逆转函数<br>%输入<br>%SelCh 被选择的个体<br>%D     个城市的距离矩阵<br>%输出<br>%SelCh  进化逆转后的个体<br>function SelCh=Reverse(SelCh,D)<br>%该函数的具体操作是随机选两个基因的位置进行交换，这样有利于基因的多样性<br>[row,col]=size(SelCh);<br>ObjV=PathLength(D,SelCh);  %计算路径长度<br>SelCh1=SelCh;<br>for i=1:row<br>    r1=randsrc(1,1,[1:col]);%随机位置1<br>    r2=randsrc(1,1,[1:col]);%随机位置2<br>    mininverse=min([r1 r2]);%找到谁大谁小<br>    maxinverse=max([r1 r2]);<br>    SelCh1(i,mininverse:maxinverse)=SelCh1(i,maxinverse:-1:mininverse); %进行交换<br>end<br>ObjV1=PathLength(D,SelCh1);  %计算路径长度<br>index=ObjV1&lt;ObjV;<br>SelCh(index,:)=SelCh1(index,:);</p>
<p><strong>重新插入新代数的函数：</strong></p>
<p> %% 重插入子代的新种群<br> %输入：<br> %Chrom  父代的种群<br> %SelCh  子代种群<br> %ObjV   父代适应度<br> %输出<br> % Chrom  组合父代与子代后得到的新种群<br>function Chrom=Reins(Chrom,SelCh,ObjV)<br>NIND=size(Chrom,1); % 得到旧的种群个体个数<br>NSel=size(SelCh,1); % 得到新的种群个体个数<br>[TobjV,index]=sort(ObjV); %按照路径长度进行排序<br>Chrom=[Chrom(index(1:NIND-NSel),:);SelCh]; %进行插入操作</p>
<p>结果： 初始种群中的一个随机值: 13—&gt;12—&gt;9—&gt;6—&gt;8—&gt;11—&gt;5—&gt;10—&gt;1—&gt;3—&gt;14—&gt;2—&gt;7—&gt;4—&gt;13 总距离：65.9898 <del>~</del> 最优解: 12—&gt;6—&gt;5—&gt;4—&gt;3—&gt;14—&gt;2—&gt;1—&gt;10—&gt;9—&gt;11—&gt;8—&gt;13—&gt;7—&gt;12 总距离：29.3405 <strong>随机生成的路径图：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/08/1.png" alt=""> <strong>最优结果的路径图：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/08/3.png" alt=""> <strong>迭代优化过程：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/08/2.png" alt=""> End！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/07/27/ji-yu-yi-chuan-suan-fa-de-bp-shen-jing-wang-luo-you-hua-suan-fa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/07/27/ji-yu-yi-chuan-suan-fa-de-bp-shen-jing-wang-luo-you-hua-suan-fa/" itemprop="url">基于遗传算法的BP神经网络优化算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-27T20:10:20+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%BB%A5%E5%8F%8A%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">BP神经网络以及遗传算法</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%BB%A5%E5%8F%8A%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">优化算法</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%BB%A5%E5%8F%8A%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/BP%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%BB%A5%E5%8F%8A%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180727195910.png" alt=""> BP网络是一类多层的前馈神经网络，它的名字源于在网络训练的过程中，调整网络的权值的算法是误差反向传播的学习算法，即为BP学习算法。 它的学习规则是使用最速下降法，通过反向传播来不断调整网络的权值和阈值，使网络的误差平方和最小。BP神经网络模型拓扑结构包括输入层（input）、隐层(hide layer)和输出层(output layer)。   对于遗传算法的基本要素包含：染色体编码方法、适应度函数、遗传操作和运行参数。</p>
<ul>
<li><p>染色体编码方法是指个体的编码方法，目前包括二进制法、实数法等。二进制法是指把个体编码成为一个二进制串，实数法是指把个体编码成为一个实数。</p>
</li>
<li><p>适应度函数是指根据进化目标编写的计算个体适应度值的函数，通过适应度函数计算每个个体的适应度值，提供给选择算子进行选择。</p>
</li>
<li><p>遗传操作是指选择操作、交叉操作和变异操作。</p>
</li>
<li><p>运行参数是遗传算法在初始化时确定的参数，主要包括群体大小M、遗传代数G、交叉概率Pl和变异概率Pm。</p>
<p>案例描述： 以某拖拉机的齿轮箱为工程背景，使用基于遗传算法的BP神经网络进行齿轮箱故障的诊断。统计表明，齿轮箱故障中60%左右都是有齿轮箱故障导致的，所以这里之研究齿轮的故障，这里选取频域中的几个特征量。频域中齿轮故障比较明显的是在啮合频率处的边缘带上。所以在频域特征信号的提取中选取了在2、4、6挡时，在1、2、3轴的边频带族fs±nfz处的幅值Ai,j1、Ai,j2和Ai,j3，其中fs为齿轮的啮合频率，fz为轴的转频，n=1,2,3,，i=2,4,6表示档位j=1,2,3表示轴的序号，由于在2轴和3轴上有两对齿轮啮合，所以1、2分别表示两个啮合频率。这样，网络的输入就是一个15维的向量。因为这些数据具有不同的量纲和量级所以在输入神经网络之前首先进行归一化处理。 齿轮箱状态数据样本： <img src="http://47.100.4.8/wp-content/uploads/2018/07/1-6.png" alt=""> 从表中可以看出齿轮状态分为三种故障模式，因此可以采用如下的形式来表示输出。 无故障（1,0,0）、齿根裂纹（0,1,0）、断齿（0,0,1） 为了对训练好的网络进行测试，再增加三组测试数据 <strong>测试样本数据</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/2-4.png" alt=""> <strong>算法流程：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/3-3.png" alt=""> 因为遗传算法优化参数是BP神经网络的初始权值和阙值，只要网络结构已知，权值和阙值的个数就已知了。   神经元阙值介绍：阙值为一个范围，当外界的某个值超过阙值，就会引起某一变化，不超过阙值，则不会引起变化，一般输入层是没有阙值的因为它只负责处理数据，阙值一般在隐含层和输出层等处理数据的层数有。   神经网络算法实现：</p>
</li>
<li><p>网络创建</p>
</li>
</ul>
<p>BP网络结构的确定有以下两条比较重要的指导原则。</p>
<ul>
<li><p>对于一般的模式识别问题，三层网络可以很好地解决问题。</p>
</li>
<li><p>在三层网络中，隐含层神经网络个数n2和输入层神经元个数n1之间有近似关系：</p>
<pre><code>n2 = 2 * n1 +1 本案例中，由于样本有15个输入参数，3个输出参数，所以这里n2取值为31，设置的BP神经网络 结构为15-31-3，即输入层有15个节点，隐含层有31个节点，输出层有3个节点，因此总有15\*31+31\*3=558个权值（边），31+3=34个阙值，所以遗传算法优化参数的个数为558+34=592.使用训练数据进行网络训练，使用测试数据对训练后的网络进行测试。把测试样本的测试误差的范数作为衡量网络的一个泛化能力，再通过误差范数计算个体的适应度值，个体的误差范数越小，个体适应度值越大，该个体越优。 神经网络的隐含层神经元的传递函数采用S型正切函数tansig（），输出层神经元的传递函数采用S型对数函数logsig（），这是由于输出模式为0-1，正好满足网络的输出要求。假定输入样本矩阵为P，创建网络可以使用如下代码： Net=newff（minmax（P），\[31,3\],(‘tansig’,’logsig’)，‘trainlm’）</code></pre></li>
<li><p>网络训练和测试</p>
</li>
</ul>
<p>网络训练是一个不断修正权值和阙值的过程，使得网络的输出误差越来越小。   <strong>遗传算法实现</strong> 遗传算法优化BP神经网络是用遗传算法来优化BP神经网络的初始权重值和阙值，使优化后的BP神经网络能够更好地进行样本预测。</p>
<ul>
<li>种群初始化</li>
</ul>
<p>个体编码使用二进制编码，每个个体均为一个二进制串，由输入层与隐含层连接权值、隐含层阙值与输出层连接权值、输出层阙值四部分组成，每个阙值和权值都使用二进制编码，将所有权值和阙值的编码连接起来即为一个个体的编码。 <img src="http://47.100.4.8/wp-content/uploads/2018/07/4-2.png" alt=""> 465+31+93+3=592,假设权值和阙值的编码均为10位二进制数，那么个体的总编码长度为5920位。前4650位为输入层与隐含层连接权值编码；4561<del>4960位为隐含层阙值编码；4961</del>5890位为隐含层与输出层连接权值编码；5890~5920位为输出层阙值编码。</p>
<ul>
<li>适应度函数</li>
</ul>
<p>适应度函数采用排序的适应度分配函数：FitnV = ranking（obj），其中obj为目标函数的目标值。</p>
<ul>
<li>选择算子</li>
</ul>
<p>采用随机遍历抽样（sus 轮盘赌算法）选择</p>
<ul>
<li>交叉算子</li>
</ul>
<p>采用最简单的单点交叉算子</p>
<ul>
<li>变异算子</li>
</ul>
<p>以一定的概率产生变异基因树，用随机方法选择发生变异的基因，如果所选的基因的编码为1，则变为0，反之。   <strong>遗传算法相关参数设定：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/5-2.png" alt=""> <strong>训练网络：</strong></p>
<p>function rep = BPfun(x,P,T,hiddennum,P_test,T_test)<br>%训练与测试BP网络<br>%输入<br>%x 一个个体的初始权值和阙值<br>%P 训练样本输入<br>%T 训练样本输出<br>% hiddennum：隐含层神经元数<br>% P_test 测试样本输入<br>% T_test 测试样本输出<br>% rep 预测样本的预测误差的范数</p>
<p>inputnum = size(P,1);  %得到输入层神经元的个数<br>outputnum = size(T,1); %得到输出层神经元的个数</p>
<p>%建立BP网络<br>net = newff(minmax(P),[hiddennum,outputnum],{‘tansig’,’logsig’},’trainlm’);</p>
<p>%设置网络参数：训练次数为1000，训练目标为0.01，学习速率为0.1<br>net.trainParam.epochs = 1000;<br>net.trainParam.goal = 0.01;<br>LP.lr = 0.1;<br>net.trainParam.show = NaN;<br>net.trainParam.showwindow = false; %使用高版本matlab不显示图形框</p>
<p>%设置BP网络的初始权值和阙值<br>w1num = inputnum * hiddennum;  %计算输入层到隐含层的权值个数<br>w2num = outputnum * hiddennum; %计算隐含层到输出层的权值个数<br>%按照编码规则分别给权值和阙值赋值(实质为解码得到权值和阙值)<br>w1 = x(1:w1num); %初始输入层到隐含层的权值<br>B1 = x(w1num+1:w1num+hiddennum); %隐含层神经元阙值<br>w2=x(w1num + hiddennum + 1:w1num + hiddennum + w2num); %初始隐含层到输出层的权值<br>B2=x(w1num + hiddennum + w2num + 1:w1num + hiddennum + w2num + outputnum); %输出层阙值<br>net.iw{1,1} = reshape(w1,hiddennum,inputnum); %将输入层到隐含层的权值转换为神经网络需要的格式<br>net.lw{2,1}= reshape(w2,outputnum,hiddennum); %将隐含层到输出层的权值转换为神经网络需要的格式<br>net.b{1} = reshape(B1,hiddennum,1); %将隐含层的阙值转换为对应的格式<br>net.b{2} = reshape(B2,outputnum,1); %将输出层的阙值转换为对应的格式<br>%训练网络<br>net = train(net,P,T);<br>%测试网络<br>Y = sim(net,P_test);<br>rep = norm(Y-T_test);</p>
<p><strong>主函数：</strong></p>
<p>clc<br>clear all<br>close all<br>%%加载神经网络的训练样本，测试样本每列一个样本，输入P，输出T<br>%样本数据就是前面问题中列出的数据<br>P1 = [0.2286 0.1292 0.0720 0.1592 0.1335 0.0733 0.1159 0.0940 0.0522 0.1345 0.0090 0.1260 0.3619 0.0690 0.1828 0.2090 0.0947 0.1393 0.1387 0.2558 0.0900 0.0771 0.0882 0.0393 0.1430 0.0126 0.1670 0.2450 0.0508 0.1328 0.0442 0.0880 0.1147 0.0563 0.3347 0.1150 0.1453 0.0429 0.1818 0.0378 0.0092 0.2251 0.1516 0.0858 0.0670 0.2603 0.1715 0.0702 0.2711 0.1491 0.1330 0.0986 0.1911 0.2545 0.0871 0.0060 0.1793 0.1002 0.0789 0.0909 0.3690 0.2222 0.0562 0.5157 0.1872 0.1614 0.1425 0.1506 0.1310 0.0500 0.0078 0.0348 0.0451 0.0707 0.0880 0.0359 0.1149 0.1230 0.5460 0.1977 0.1248 0.0624 0.0832 0.1640 0.1002 0.0059 0.1503 0.1837 0.1295 0.0700 0.1759 0.2347 0.1829 0.1811 0.2922 0.0655 0.0774 0.0227 0.2056 0.0925 0.0078 0.1852 0.3501 0.1680 0.2668 0.0724 0.1909 0.1340 0.2409 0.2842 0.0450 0.0824 0.1064 0.1909 0.1586 0.0116 0.1698 0.3644 0.2718 0.2494 0.2634 0.2258 0.1165 0.1154 0.1074 0.0657 0.0610 0.2623 0.2588 0.1155 0.0050 0.0978 0.1511 0.2273 0.3220];<br>T1 = [2 2 2 1 1 1 0 0 0];%1 0 0 1 0 0 1 0 0 0 1 0 0 1 0 0 1 0 0 0 1 0 0 1 0 0 1<br>P1_test = [0.2101 0.0950 0.1298 0.1359 0.2601 0.1001 0.0753 0.0890 0.0389 0.1451 0.0128 0.1590 0.2452 0.0512 0.1319 0.2593 0.1800 0.0711 0.2801 0.1501 0.1298 0.1001 0.1891 0.2531 0.0875 0.0058 0.1803 0.0992 0.0802 0.1002 0.2599 0.2235 0.1201 0.0071 0.1102 0.0683 0.0621 0.2597 0.2602 0.1167 0.0048 0.1002 0.1521 0.2881 0.3205];<br>T1_test = [2 1 0];%1 0 0 0 1 0 0 0 1<br>P = reshape(P1,9,15);<br>T = reshape(T1,9,1);<br>P_test = reshape(P1_test,3,15);<br>T_test = reshape(T1_test,3,1);</p>
<p>%设置隐含层神经元的个数<br>hiddennum = 31;<br>%设置输入向量的最大值和最小值<br>threshold = [0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1;0 1];<br>inputnum = size(P,1); %输入层神经元个数<br>outputnum = size(T,1); %输出层神经元个数<br>w1num = inputnum * hiddennum;  %计算输入层到隐含层的权值个数<br>w2num = outputnum * hiddennum; %计算隐含层到输出层的权值个数<br>N = w1num + hiddennum + w2num + outputnum; %总的变量个数</p>
<p>%%定义遗传算法参数<br>Nind = 40; %定义种群大小<br>MaxGen = 50; %最大遗传代数<br>Lind = 10; %每个个体的长度<br>GGAP = 0.95; %代沟<br>pl = 0.7; %交叉概率<br>pm = 0.01; %变异概率<br>trace = zeros(N+1,MaxGen);  %寻优结果的初始值 为N+1的原因是最后一位用来存储对优值</p>
<p>%%构建区域描述器方便将个体基因转化为实值<br>FieldD = [repmat(Lind,1,N);repmat([-0.5;0.5],1,N);repmat([1;0;1;1],1,N)]; %难点<br>Chrom = crtbp(Nind,Lind*N); %创建任意离散的随机种群</p>
<p>%%优化<br>gen = 0; %种群迭代计数器<br>X = bs2rv(Chrom,FieldD); %将初始种群的基因转换为十进制<br>ObjV = Objfun(X,P,T,hiddennum,P_test,T_test);  %计算目标值<br>while gen&lt;MaxGen<br>    fprintf(‘%d\n’,gen);<br>    FitnV = ranking(ObjV); %计算适应度值<br>    SelCh = select(‘sus’,Chjrom,FitnV,GGAP); %采用轮盘赌算法选择下一代<br>    SelCh = recombin(‘xovsp’,SelCh,pl); %进行交叉<br>    SelCh = mut(SelCh,pm); %进行变异<br>    X = bs2rv(SelCh,FieldD); %将子代的二进制转换为十进制<br>    ObjVSelCh = Objfun(X,P,T,hiddennum,P_test,T_test); %计算子代的目标函数值<br>    [Chrom,ObjV] = reins(Chrom,SelCh,1,1,ObjV,ObjVSelCh); %将子代插入到父代中，得到新的种群<br>    X = bs2rv(Chrom,FieldD); %将新的种群的二进制转换为十进制<br>    gen = gen +1;<br>    %获得每一代的最优解及其序号，Y为最优解，I为个体的序号<br>    [Y,I] = min(ObjV);<br>    trace(1:N,gen) = X(I,:);<br>    trace(end,gen) = Y;<br>end<br>%%画出图像<br>figure(1);<br>plot(1:MaxGen,trace(end,:));<br>grid on<br>xlabel(‘遗传代数’);<br>ylabel(‘误差变化’);<br>besxtX = trace(1:end-1,end);<br>bestErr = trace(end,end);<br>fprintf(‘最优初始权值和阙值:\nX=’,num2str(bestX),’\n最小误差err=’,num2str(bestErr),’\n’);</p>
<p>调用神经网络的函数：<br>function rep = Objfun(X,P,T,hiddennum,P_test,T_test)<br>%用来分别求解种群中各个个体的目标值<br>% X 所有个体的初始权值和阙值<br>%P 训练样本输入<br>%T 训练样本输出<br>% hiddennum：隐含层神经元数<br>% P_test 测试样本输入<br>% T_test 测试样本输出<br>% Obj 所有个体预测样本预测误差的范数</p>
<p>[M,N] = size(X);<br>Obj = zeros(M,1);<br>for i = 1:M<br>    Obj(i) = BPfun(X(i,:),P,T,hiddennum,P_test,T_test);<br>end</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/07/26/jiang-hui-bian-yu-yan-zhuan-huan-wei-ji-qi-yu-yan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/07/26/jiang-hui-bian-yu-yan-zhuan-huan-wei-ji-qi-yu-yan/" itemprop="url">将汇编语言转换为机器语言</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-26T17:10:00+08:00">
                2018-07-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index">
                    <span itemprop="name">汇编语言</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/%E7%A1%AC%E4%BB%B6%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">硬件系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180725093458.png" alt=""> <strong>将x86汇编语言翻译成机器语言，而机器语言是写入到硬件板子上的。</strong> 具体以如下格式展示：（分号右边的是注释） <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726161957.png" alt=""> <strong>首先需要了解十五条基本指令，下面是指令的参考表</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726162108.png" alt=""> <strong>下面大致介绍一下每条指令的功能：</strong> 1、MOV是将源寄存器中的内容存放到目的寄存器中  2、ADD是将源寄存器 和目的寄存器中的内容相加存放到目的寄存器中  3、SUB是将目的寄存器中的内容和源寄存器中的内容相减存放到目的寄存器中  4、AND是将目的寄存器和源寄存器中的内容进行二进制按位与存放到目的寄存器中  5、OR是将目的寄存器和源寄存器中的内容进行二进制按位或存放到目的寄存器中  6、RR是将将RS中的内容向右循环位移一位，存档到RD中  7、INC是将RD寄存器中的内容自加一  8、 LAD是按照M的寻址方式通过地址D来访问内存，取出来的内容存放到RD中  9、STA是按照M的寻址方式将RD中的内容存放到内存D地址的位置 10、JMP是按照寻址方式M无条件跳转到D地址 11、BZC是当FC或FZ等于一时按照寻址方式M跳转到地址D对应的位置 12、IN是得到I/O端输入的内容存放到寄存器RD中 13、OUT是将寄存器RD中的内容输出到I/O端 14、LDI是将一个立即数放到RD寄存器中 15、HALT是停机指令 机器指令的注释部分就是按照助记符号来编写的。 至于$P 后面的内容下面我会介绍。 <strong>指令的格式分四种：</strong> （1）单字节指令格式（其中包括ADD、AND、INC、SUB、OR、RR、HLT和MOV） <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726162700.png" alt=""> 其中RS为源寄存器，RD为目的寄存器 （2）IN和OUT的指令格式为： <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726162804.png" alt=""> 其中P为I/O端口号，IN的一般为00H，OUT的一般为40H （3）LAD、STA、JMP和BZC指令格式如下： <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726163246.png" alt=""> 其中M为寻址方式（四种），D为地址 （4）LDI指令格式如下： <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726163535.png" alt=""> data为向寄存器中存放的数据 <strong>寻址方式参考表：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726165040.png" alt=""> <strong>以下是寄存器的参考表：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180726162414.png" alt=""> 以MOV指令为例： 它以0100开头（至于为什么之后在微指令的设计方面我会说），后面的RS和RD分别为寄存器   假设是将R0寄存器的内容存放到R1中具体的编码形式应为： 0100 00 01 以STA指令为例： 设计将R1寄存器中的内容按照直接寻址存放到内存中4FH对应的位置 STA指令是以1101开头  直接寻址方式为00  指令格式为： 1101  00 01 （要转化为十六进制） 4F <strong>在了解了上面的内容后，就可以一点一点的将汇编语言转换为助记符指令，然后在转换机器码就可以了。</strong> <strong>这里分享一个小小的心得，为了保证程序能够快速运行进行少用访问的指令，要充分使用寄存器。</strong> <strong>还有就是循环loop的话可以使用jmp配合bzc来进行循环或者是条件跳转</strong> <strong>下面分享一个我写的奇数偶数个数判断的机器码：</strong></p>
<p>$P 00 20 ; START:IN RO,00H<br>$P 01 00 ;<br>$P 02 D0 ; STA 00 R0,6FH<br>$P 03 6F ;<br>$P 04 70 ; INC R0<br>$P 05 61 ; LDI 00,R1,01H<br>$P 06 01 ;<br>$P 07 22 ; LK:IN R2,00H<br>$P 08 00 ;<br>$P 09 16 ; AND R1,R2<br>$P 0A 99 ; JE R2,R1,JISHU<br>$P 0B 0E ;<br>$P 0C E0 ; JMP XUNHUAN<br>$P 0D 0F ;<br>$P 0E 73 ; JISHU:INC R3<br>$P 0F 84 ; XUNHUAN:SUB R1,R0<br>$P 10 94 ; JE R1,R0,EXIT<br>$P 11 14 ;<br>$P 12 E0 ; JMP LK<br>$P 13 07 ;<br>$P 14 C0 ; EXIT:LAD 00 ,R0,6FH<br>$P 15 6F ;<br>$P 16 8C ; SUB R3,R0<br>$P 17 3C ; OUT R0,40H<br>$P 18 40 ;<br>$P 19 30 ; OUT R3,40H<br>$P 1A 40 ;<br>$P 1B 50 ; HLT</p>
<p>至于微指令的编写，我会在以后的博文里面讲解。 偷偷分享一下自己写的汇编指令</p>
<p>data segment<br>    input db ‘please input a lot of number:’,’$’<br>    output1 db ‘The number of odd numbers is:’,’$’<br>    output2 db ‘The number of even numbers is:’,’$’<br>data ends</p>
<p>code segment<br>    assume cs:code,ds:data<br>    start:<br>    mov ax,data<br>    mov ds,ax</p>
<pre><code>mov ah,01H  ;输入要输入数据的个数
int 21H
sub al,30H

mov cx,0H
mov cl,al

mov dl,0AH
mov ah,02H
int 21H

mov bp,0 ;偶数计数器
mov si,0 ;奇数计数器</code></pre><p>lk:<br>    mov ah,01H<br>    int 21H<br>    sub al,30H<br>    and al,01H<br>    cmp al,01H<br>    jz jishu<br>    inc bp<br>    jmp useloop<br>jishu:<br>    inc si<br>    jmp useloop</p>
<p>useloop:<br>    loop lk</p>
<p>end1:<br>    mov dl,0AH<br>    mov ah,02H<br>    int 21H</p>
<pre><code>mov ax,0H
mov ax,bp
add ax,30H

mov bx,0H
mov bx,si
add bx,30H

mov dl,0H
mov dl,al
mov ah,02H
int 21H

mov dl,0H
mov dl,bl
mov ah,02H
int 21H

mov ah,4ch
int 21H</code></pre><p>code ends<br>end start</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/07/25/hui-bian-yu-yan-shi-xian-pan-duan-shi-fou-wei-run-nian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/07/25/hui-bian-yu-yan-shi-xian-pan-duan-shi-fou-wei-run-nian/" itemprop="url">汇编语言实现判断是否为闰年</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-25T09:50:47+08:00">
                2018-07-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E6%96%87%E7%AB%A0%E9%A1%B5/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index">
                    <span itemprop="name">汇编语言</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180725093458.png" alt=""> <strong>使用汇编语言实现根据输入的数字来判断是否为闰年。</strong> <strong>算法流程图：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/%E9%A1%B9%E7%9B%AE%E6%B5%81%E7%A8%8B.png" alt=""> <strong>主要代码：</strong></p>
<p>data segment<br>    output1 db ‘Yes’,’$’<br>    output2 db ‘No’,’$’<br>    output3 db ‘Error’,’$’<br>    year dw ?<br>    x1 dw 4<br>    x2 dw 100<br>    x3 dw 400<br>data ends</p>
<p>code segment<br>    assume cs:code,ds:data<br>start:<br>    mov ax,data<br>    mov ds,ax<br>    ;数据初始化<br>    mov year,0 ;存储年份的位数清零<br>    mov cx,4 ;年份为4位<br>lk:<br>    push cx<br>    mov ah,1 ;输入单个字符<br>    int 21H<br>    ;进行输入的判断 如何小于0则跳转到Error<br>    cmp al,’0’<br>    jb error<br>    cmp al,3AH<br>    jb chuli ;如何满足则进行处理</p>
<p>error:<br>    ;输出换行符<br>    mov dl,0AH<br>    mov ah,02H<br>    int 21H</p>
<pre><code>lea dx,output3
mov ah,09H
int 21h
jmp exit</code></pre><p>chuli:<br>    sub al,30H ;将字符转换为数字<br>    mov ah,0 ;将ah置0<br>    mov cx,ax ;用cx暂存ax的内容<br>    ;将老的数据乘以10并且加上原来的存储的数据<br>    mov ax,year<br>    mov bx,10<br>    mul bx<br>    add ax,cx<br>    mov year,ax ;将乘10以后的数据存储到原值</p>
<pre><code>pop cx ;将原来的cx值出栈用以循环使用

loop lk ;进行循环输入</code></pre><p>panduan:<br>    mov ax,year;取得最终输入的年份<br>    cwd ;扩展为32位 方便进行乘除<br>    div x1 ;除以4<br>    cmp dx,0 ;判断余数是否为0<br>    jne feirunnian;如果余数非0则不是闰年</p>
<pre><code>mov ax,year
cwd
div x3 ;除以400
cmp dx,0
je runnian ;如果余数为0则是闰年

mov ax,year
cwd
div x2 ;除以100
cmp dx,0
jne runnian</code></pre><p>feirunnian:<br>    ;输出换行符<br>    mov dl,0AH<br>    mov ah,02H<br>    int 21H</p>
<pre><code>lea dx,output2
mov ah,09H
int 21H
jmp exit</code></pre><p>runnian:<br>    ;输出换行符<br>    mov dl,0AH<br>    mov ah,02H<br>    int 21H</p>
<pre><code>lea dx,output1
mov ah,09H
int 21H
jmp exit</code></pre><p>exit:<br>    mov ah,4ch<br>    int 21H</p>
<p>code ends<br>end start</p>
<p><strong>测试：</strong> <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180725094929.png" alt=""> <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180725094951.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/07/23/shu-ju-ku-zhi-shi-tu-cao-zuo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/07/23/shu-ju-ku-zhi-shi-tu-cao-zuo/" itemprop="url">数据库之视图操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-23T15:58:16+08:00">
                2018-07-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%96%87%E7%AB%A0%E9%A1%B5/%E8%AF%AD%E6%B3%95%E4%B8%8E%E4%BE%8B%E9%A2%98/" itemprop="url" rel="index">
                    <span itemprop="name">语法与例题</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/06/QQ%E5%9B%BE%E7%89%8720180621230739.png" alt=""></p>
<ul>
<li>建立计算机系学生视图CS_S ；</li>
</ul>
<p>代码：</p>
<p>create view CS_S</p>
<p>as</p>
<p>select *</p>
<p>from S</p>
<p>where SDEPT = ‘计算机’</p>
<p>  结果： <img src="http://47.100.4.8/wp-content/uploads/2018/07/1-5.png" alt=""></p>
<ul>
<li>建立计算机系女生视图CS_S1 ；</li>
</ul>
<p>代码：</p>
<p>create view CS_S1</p>
<p>as</p>
<p>select *</p>
<p>from S</p>
<p>where SDEPT = ‘计算机’ and SSEX = ‘女’</p>
<p>  截图： <img src="http://47.100.4.8/wp-content/uploads/2018/07/2-3.png" alt=""></p>
<ul>
<li>建立无先修课（Cpno为NULL）的课程视图NP_C；</li>
</ul>
<p>代码：</p>
<p>create view NP_C</p>
<p>as</p>
<p>select *</p>
<p>from C</p>
<p>where CPNO is NULL</p>
<p>  截图： <img src="http://47.100.4.8/wp-content/uploads/2018/07/3-2.png" alt=""></p>
<ul>
<li>建立计算机系选修1号课程的学生视图CS_S2 ；</li>
</ul>
<p>代码：</p>
<p>create view CS_S2</p>
<p>as</p>
<p>select S.*</p>
<p>from S,SC</p>
<p>where S.SNO = SC.SNO and SC.CNO = ‘1’</p>
<p>  截图： <img src="http://47.100.4.8/wp-content/uploads/2018/07/4-1.png" alt=""></p>
<ul>
<li>建立计算机系选修数据库课程学生视图CS_S3 ；</li>
</ul>
<p>代码：</p>
<p>create view CS_S#</p>
<p>as</p>
<p>select S.*</p>
<p>from S,SC,C</p>
<p>where S.SNO = SC.SNO and C.CNO = SC.CNO and C.CNAME = ‘数据库’ and SDEPT = ‘计算机’</p>
<p>  截图： <img src="http://47.100.4.8/wp-content/uploads/2018/07/5-1.png" alt=""></p>
<ul>
<li>将计算机系女生的年龄增加1岁；</li>
</ul>
<p>代码：</p>
<p>update CS_S1</p>
<p>set SAGE = SAGE + 1</p>
<p>  截图： <img src="http://47.100.4.8/wp-content/uploads/2018/07/6-1.png" alt=""></p>
<ul>
<li>对CS_S3中学生专业修改为电子；</li>
</ul>
<p>代码：</p>
<p>update CS_S3</p>
<p>set SDEPT = ‘电子’</p>
<p>where SNO = ‘E0002’</p>
<p>  截图： 该学生被移出该视图了就 <img src="http://47.100.4.8/wp-content/uploads/2018/07/7.png" alt=""></p>
<ul>
<li>分别删除以上定义的各个视图。</li>
</ul>
<p>代码：</p>
<p>drop view CS_S</p>
<p>drop view CS_S1</p>
<p>drop view CS_S2</p>
<p>drop view CS_S3</p>
<p>drop view NP_C</p>
<p>  截图： <img src="http://47.100.4.8/wp-content/uploads/2018/07/8.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/07/15/ji-yu-yi-chuan-suan-fa-he-fei-xian-xing-gui-hua-de-han-shu-xun-you-suan-fa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/07/15/ji-yu-yi-chuan-suan-fa-he-fei-xian-xing-gui-hua-de-han-shu-xun-you-suan-fa/" itemprop="url">基于遗传算法和非线性规划的函数寻优算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-15T11:37:08+08:00">
                2018-07-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/MatLab/" itemprop="url" rel="index">
                    <span itemprop="name">MatLab</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/MatLab/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">优化算法</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/MatLab/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8E%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E5%92%8C%E9%9D%9E%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E7%9A%84%E5%87%BD%E6%95%B0%E5%AF%BB%E4%BC%98%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">基于遗传算法和非线性规划的函数寻优算法</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/MatLab/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8E%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E5%92%8C%E9%9D%9E%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E7%9A%84%E5%87%BD%E6%95%B0%E5%AF%BB%E4%BC%98%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/MatLab/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E5%9F%BA%E4%BA%8E%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E5%92%8C%E9%9D%9E%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E7%9A%84%E5%87%BD%E6%95%B0%E5%AF%BB%E4%BC%98%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>非线性规划研究一个n元实函数在一组等式或不等式的约束条件下的极值问题。</strong></p>
<p>非线性规划函数： 函数fmincon是MatLab最优化工具箱中求解非线性规划问题的函数，它从一个预估值触发，搜索约束条件下非线性多元函数的最小值。 函数fmincon的<strong>约束条件</strong>为： <img src="http://47.100.4.8/wp-content/uploads/2018/07/111.png" alt=""> 其中，<strong>x、b、beq、lb和ub是矢量，A和Aeq为矩阵；c（x）和ceq（x）返回矢量的函数；f（x）、c（x）和ceq（x）是非线性函数。</strong> <strong>函数fmincon（fun，x0，A，b，Aeq，beq，lb，ub）</strong> 其中lb和ub分别为x的下界和上界。当函数输入参数不包括A、b、Aeq、beq时，默认A=0、b=0，Aeq=[ ]，beq=[ ]   遗传算法从随机产生的初始解开始搜索，通过一定的选择、交叉、变异操作逐步迭代以产生新的解。群体种的每个个体代表问题的一个解，成为染色体，染色体的好坏用适应度值来衡量，根据适应度的好快从上一代中选择一定数量的优秀个体，通过交叉、变异来形成下一代群体。经过若干代迭代之后，收敛于最好的染色体。（但不一定是问题的最优解）   非线性规划算法大多采用梯度下降的方法求解，局部搜索能力强，但是全局搜索能力差，遗传算法则是全局搜索能力强，局部搜索能力差，因此二者集合能够得到问题的最优解。   <strong>采用遗传算法和非线性规划的方式求解的例子：</strong> 其中x1、x2、x3、x4、x5是0~0.9*π之间的实数。 该函数的最小值为-2，最小值的位置为（π/2，π/2，π/2，π/2，π/2）   非线性规划遗传算法的流程图： <img src="http://47.100.4.8/wp-content/uploads/2018/07/112.png" alt=""> N为一个固定值，当进化代数为N的倍数时采用非线性寻优的方法加快进化，非线性寻优利用当前染色体值采用函数fmincon寻找问题的局部最优值。   算法思路：</p>
<ol>
<li>种群初始化</li>
</ol>
<p>采用的编码方式有：位串编码、Grey编码、实数编码（浮点数编码）、多级参数编码、有序串编码、结构式编码等。</p>
<ol start="2">
<li>适应度函数</li>
</ol>
<p>因为这个例子中求得是函数最小值所有，把函数值的倒数最为个体的适应度值。目标函数值越小的个体，适应度越大，个体越优。</p>
<ol start="3">
<li>选择操作</li>
</ol>
<p>从旧群体中选择出优良个体组成新的种群，以繁殖到下一代，常用的选择算法有：轮盘赌算法、锦标赛算法等，常用的是轮盘赌算法。即基于适应度比例的选择策略 个体被选中的概率为：<img src="http://47.100.4.8/wp-content/uploads/2018/07/113.png" alt="">，Fi为个体的适应度值</p>
<ol start="4">
<li>交叉操作</li>
</ol>
<p>从种群中随机选择两个个体，通过两个染色体的交换组合，把父串的优秀特征遗传给子串，从而产生新的优秀个体。由于采用实数编码，因此采用实数交叉法：第k个单色提的ak和第L个染色体的al在j位的交叉操作</p>
<ol start="5">
<li>变异操作</li>
</ol>
<p>目的是维护种群的多样性，从种群中随机选择一个个体，选择个体中的一点进行变异以产生更优秀的个体。</p>
<ol start="6">
<li>非线性寻优</li>
</ol>
<p>每进化一定代数后，以所得到的结果为初始值，采用fmincon进行局部寻优，并把局部寻优的结果作为染色体继续进化 <strong>实现：</strong> 计算目标值的函数文件  </p>
<p>function y = fun(x)</p>
<p>y=-5*sin(x(1))*sin(x(2))*sin(x(3))*sin(x(4))*sin(x(5))-sin(5*x(1))*sin(5*x(2))*sin(5*x(3))*sin(5*x(4))*sin(5*x(5))+8;</p>
<p>选择函数</p>
<p>%%选择操作  该函数对每一代种群中的染色体进行选择，以进行后面的交叉和变异</p>
<p>function ret = select(indivduals,sizepop) %indivduals为种群信息   sizepop为种群规模</p>
<p>%indivduals input :种群信息</p>
<p>%sizepop input :种群规模</p>
<p>%opts input :选择方法的选择</p>
<p>%ret output :经过选择后的种群</p>
<p>indivduals.fitness = 1./(indivduals.fitness); %计算适应度</p>
<p>sumfitness = sum(individuals.fitness); %计算适应度之和</p>
<p>sumf = indivduals.fitness./sumfitness;  %计算适应度占比</p>
<p>index = [];   %创建一个空数组 用来存储选择出来的染色体的下标</p>
<p>for i=1:sizepop  %循环sizepop</p>
<pre><code>pick = rand;  %将pick赋值为一个随机小数范围在0-1

while pick == 0  %设置一下防止rand 出来的值使pick为0

    pick = rand;

end

for j = 1 :sizepop %遍历每一个染色体的适应度占比

    pick = pick - sumf(j); %如果pick - 某个染色体的适应度占比小于0 则将该染色体对应的下表添加到index中

    if pick &lt; 0

        index = \[index j\];

        break;

    end

end</code></pre><p>end</p>
<p>indivduals.chrom = indivduals.chrom(index,:);  %将选择出来的染色体存到一个子种群中</p>
<p>indivduals.fitness = indivduals.fitness(index);  %将对应的适应度也存储到一起</p>
<p>ret = indivduals;</p>
<p>交叉操作函数：  </p>
<p>%%交叉操作</p>
<p>function ret = Cross(pl,lenchrom,chrom,sizepop,bound)</p>
<p>%pl input :交叉概率</p>
<p>%lenchrom input :染色体的长度</p>
<p>%chrom input:染色体种群</p>
<p>%sizepop input:种群规模</p>
<p>%ret ouput:交叉后的染色体</p>
<p>for i=1:sizepop     %是否进行交叉由交叉概率决定</p>
<pre><code>%随机选择两个染色体进行交叉

pick = rand(1,2);  %产生两个0-1的随机数

while prod(pick) == 0

    pick = rand(1,2);

end

index = ceil(pick.*sizepop);  %将随机到的数转换为对应的染色体编号  ceil（x）是取比x大的最小整数

%交叉概率决定是否进行交叉

pick  = rand;  %随机出来一个交叉概率

while pick == 0

    pick = rand;

end

%如何随机出来的交叉概率大于给定的交叉概率则结束本次循环

if pick &gt; pcross

    continue;

end

flag = 0;

while flag == 0

    %随机选择交叉位置

    pick = rand;

    while pick ==0

        pick = rand ;

    end

    pos = ceil(pick.*sum(lenchrom));  %将随机出来的数转换为染色体对应的某个基因

    pick = rand;  %随即一个数用于在交叉时选择基因位置时作为参数

    v1 = chrom(index(1),pos);

    v2 = chrom(index(2),pos);

    %交叉公式

    chrom(index(1),pos) = pick * v2 + (1-pick) * v1;

    chrom(index(2),pos) = pick * v1 + (1-pick) * v2;

    flag1 = test(lenchrom,bound,chrom(index(1),:),fcode);

    flag2 = test(lenchrom,bound,chrom(index(2),:),fcode);

    if flag1*flag2 == 0

        flag = 0;

    else

        flag =1;

    end

end</code></pre><p>end</p>
<p>ret = chrom;</p>
<p>变异操作：</p>
<p>%%变异操作</p>
<p>function ret = Mutation(pm,lenchrom,chrom,sizepop,bound)</p>
<p>%本函数完成变异操作</p>
<p>%pcorss input :变异概率</p>
<p>%lenchrom input : 染色体长度</p>
<p>%chrom input:染色体群’</p>
<p>%sizepop input :种群规模</p>
<p>%pop input:当前种群的进化代数和最大的进化代数信息</p>
<p>% ret output:变异后的染色体</p>
<p>for i =1;sizepop</p>
<pre><code>%随机选择一个染色体进行变异

pick = rand;

while pick == 0

    pick = rand;

end

index = ceil(pick * sizepop);  %将随机出来的数转换为对应的染色体的编号

%决定该轮是否进行变异

pick = rand;

if pick &gt; pm

    continue;

end

flag = 0;

while flag == 0

    %随机一个变异位置

    pick = rand;

    while pick == 0

        pick = rand;

    end

    pos = ceil(pick * sum(lenchrom));  %转换为对应染色体基因的位置

    v = chrom(i,pos);  %得到该位置的值

    v1 = v - bound(pos,1);

    v2 = bound(pos,2) - v;

    pick = rand;  %变异开始

    if pick &gt; 0.5  %变异分为两种情况

        delta = v2 * (1 - pick((1 - pop(1)/pop(2))^2));

        chrom (i,pos) = v + delta;

    else

        delta = v1 * (1 - pick((1 - pop(1)/pop(2))^2));

        chrom (i,pos) = v - delta;

    end

    flag = test(lenchrom,bound,chrom(i,:),fcode);

end</code></pre><p>end</p>
<p>ret = chrom;</p>
<p>随机编码函数：</p>
<p>function ret=Code(lenchrom,bound)</p>
<p>%本函数将变量编码成染色体，用于随机初始化一个种群</p>
<p>% lenchrom   input : 染色体长度</p>
<p>% bound      input : 变量的取值范围</p>
<p>% ret        output: 染色体的编码值</p>
<p>flag=0;</p>
<p>while flag==0</p>
<pre><code>pick=rand(1,length(lenchrom));

ret=bound(:,1)&apos;+(bound(:,2)-bound(:,1))&apos;.*pick; %线性插值

flag=test(lenchrom,bound,ret);             %检验染色体的可行性</code></pre><p>end</p>
<p>非线性优化函数：</p>
<p>function ret = nonlinear(chrom,sizepop)</p>
<p>for i=1:sizepop</p>
<pre><code>x=fmincon(inline(&apos;-5\*sin(x(1))\*sin(x(2))\*sin(x(3))\*sin(x(4))\*sin(x(5))-sin(5\*x(1))\*sin(5\*x(2))\*sin(5\*x(3))\*sin(5\*x(4))\*sin(5\*x(5))&apos;),chrom(i,:)&apos;,\[\],\[\],\[\],\[\],\[0 0 0 0 0\],\[2.8274 2.8274 2.8274 2.8274 2.8274\]);

ret(i,:)=x&apos;;</code></pre><p>end</p>
<p>主函数：</p>
<p>%% 清空环境</p>
<p>clc</p>
<p>clear</p>
<p>warning off</p>
<p>%% 遗传算法参数</p>
<p>maxgen=30;                         %进化代数</p>
<p>sizepop=100;                       %种群规模</p>
<p>pcross=[0.6];                      %交叉概率</p>
<p>pmutation=[0.01];                  %变异概率</p>
<p>lenchrom=[1 1 1 1 1];              %变量字串长度</p>
<p>bound=[0 0.9*pi;0 0.9*pi;0 0.9*pi;0 0.9*pi;0 0.9*pi];  %变量范围</p>
<p>%% 个体初始化</p>
<p>individuals=struct(‘fitness’,zeros(1,sizepop), ‘chrom’,[]);  %种群结构体</p>
<p>avgfitness=[];                                               %种群平均适应度</p>
<p>bestfitness=[];                                              %种群最佳适应度</p>
<p>bestchrom=[];                                                %适应度最好染色体</p>
<p>% 初始化种群</p>
<p>for i=1:sizepop</p>
<pre><code>individuals.chrom(i,:)=Code(lenchrom,bound);       %随机产生个体

x=individuals.chrom(i,:);  %得到每一个个体的值

individuals.fitness(i)=fun(x);                     %进行个体适应度的计算</code></pre><p>end</p>
<p>%对初代进行操作   找最好的染色体</p>
<p>[bestfitness bestindex]=min(individuals.fitness);   %得到本代中计算出目标函数值的最小的值</p>
<p>bestchrom=individuals.chrom(bestindex,:);  %得到最好的染色体</p>
<p>avgfitness=sum(individuals.fitness)/sizepop; %计算总染色体的平均适应度</p>
<p>% 记录每一代进化中最好的适应度和平均适应度</p>
<p>trace=[];</p>
<p>%% 进化开始</p>
<p>for i=1:maxgen</p>
<pre><code>% 选择操作

individuals=Select(individuals,sizepop);  %选择出好的个体组成一个种群

avgfitness=sum(individuals.fitness)/sizepop; %计算出子代种群的平均适应度

% 交叉操作

individuals.chrom=Cross(pcross,lenchrom,individuals.chrom,sizepop,bound);

% 变异操作

individuals.chrom=Mutation(pmutation,lenchrom,individuals.chrom,sizepop,\[i maxgen\],bound);



if mod(i,10)==0  %如果进化代数为10的倍数则进行非线性优化

    individuals.chrom=nonlinear(individuals.chrom,sizepop);

end



% 计算进行交叉变异之后的新种群适应度

for j=1:sizepop

    x=individuals.chrom(j,:);

    individuals.fitness(j)=fun(x);

end



%找到最小和最大适应度的染色体及它们在种群中的位置

\[newbestfitness,newbestindex\]=min(individuals.fitness);

\[worestfitness,worestindex\]=max(individuals.fitness);

% 代替上一次进化中最好的染色体

if bestfitness&gt;newbestfitness  %如果上一代中最好的适应度大于当前代中最好的适应度则将它代替

    bestfitness=newbestfitness;

    bestchrom=individuals.chrom(newbestindex,:);

end

individuals.chrom(worestindex,:)=bestchrom;

individuals.fitness(worestindex)=bestfitness;



avgfitness=sum(individuals.fitness)/sizepop;



trace=\[trace;avgfitness bestfitness\]; %记录每一代进化中最好的适应度和平均适应度</code></pre><p>end</p>
<p>%进化结束</p>
<p>%% 结果显示</p>
<p>figure</p>
<p>[r c]=size(trace);</p>
<p>plot([1:r]‘,trace(:,1),’r-‘,[1:r]‘,trace(:,2),’b–’);</p>
<p>title([‘函数值曲线  ‘ ‘终止代数＝’ num2str(maxgen)],’fontsize’,12);</p>
<p>xlabel(‘进化代数’,’fontsize’,12);ylabel(‘函数值’,’fontsize’,12);</p>
<p>legend(‘各代平均值’,’各代最佳值’,’fontsize’,12);</p>
<p>ylim([1.5 8])</p>
<p>disp(‘函数值                   变量’);</p>
<p>% 窗口显示</p>
<p>disp([bestfitness x]);</p>
<p>grid on</p>
<p>  结果： <img src="http://47.100.4.8/wp-content/uploads/2018/07/114.png" alt=""> <img src="http://47.100.4.8/wp-content/uploads/2018/07/115.png" alt=""> 根据数值分析也可以看出随着迭代次数的增加，最好适应度的值变化减小，直道不在变化</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/07/13/shi-yong-yi-chuan-suan-fa-gong-ju-xiang-jie-jue-er-yuan-han-shu-qiu-ji-zhi-wen-ti/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/07/13/shi-yong-yi-chuan-suan-fa-gong-ju-xiang-jie-jue-er-yuan-han-shu-qiu-ji-zhi-wen-ti/" itemprop="url">使用遗传算法工具箱解决二元函数求极值问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-13T11:43:37+08:00">
                2018-07-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/" itemprop="url" rel="index">
                    <span itemprop="name">GA</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/MatLab/" itemprop="url" rel="index">
                    <span itemprop="name">MatLab</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/MatLab/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">优化算法</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/MatLab/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/GA/MatLab/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/%E6%96%87%E7%AB%A0%E9%A1%B5/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180706191552.png" alt=""> <strong>计算二元函数的最大值</strong> <strong>二元函数为：<img src="http://47.100.4.8/wp-content/uploads/2018/07/11.png" alt=""></strong> <strong>基础参数配置为：</strong></p>
<p>种群大小</p>
<p>最大遗传代数</p>
<p>个体长度</p>
<p>代沟</p>
<p>交叉概率</p>
<p>变异概率</p>
<p>40</p>
<p>100</p>
<p>40（两个自变量每个长20）</p>
<p>0.95</p>
<p>0.7</p>
<p>0.01</p>
<p>代码：</p>
<p>clc<br>clear all<br>close all<br>%%画出函数图<br>figure(1);  %设置为窗口1<br>lbx = -2;  %自变量x的范围<br>ubx = 2;<br>lby = -2; %自变量y的范围<br>uby = 2;<br>%%画有两个变量的函数并且要根据范围去画，因此使用ezmesh<br>ezmesh(‘y*sin(2*pi*x)+x*cos(2*pi*y)’,[lbx,ubx,lby,uby],50);<br>hold on;<br>%%定义遗传算法参数<br>Nind = 40;  %种群大小为40<br>Lind = 20; %两个变量合在一起的基因长度为40  x为20  y为20<br>MaxGen = 100; %遗传最大代数<br>GGAP = 0.95; %代沟<br>px = 0.7; %交叉概率<br>pm = 0.01; %变异概率<br>trace = zeros(3,MaxGen); %用来存储每一代中的最优结果<br>FieldD = [Lind Lind;lbx lby;ubx uby;1 1;0 0;1 1;1 1];  %设置好FieldD参数,因为是两个变量所有x y要分开设置<br>%%初始化<br>Chrom = crtbp(Nind,Lind<em>2);  %随机生成初始种群<br>gen = 0; %种群迭代计数器<br>XY = bs2rv(Chrom,FieldD);  %生成的XY为一个Nind行 两列的数组 前一列是x的值，后一列是y的值<br>x = XY(:,1);  %分别存储x和y的值<br>y = XY(:,2);<br>ObjV = y.\</em>sin(2*pi*x)+x.*cos(2*pi*y);  %进行计算函数值  采用.<em>是进行矩阵计算<br>while gen&lt;MaxGen<br>    FitnV = ranking(-ObjV);  %进行适应度计算<br>    SelCh = select(‘sus’,Chrom,FitnV,GGAP); %通过轮盘赌算法并且根据适应度和代沟来选择留下的染色体<br>    SelCh = recombin(‘xovsp’,SelCh,px);  %选出来的染色体进行交叉;<br>    SelCh = mut(SelCh,pm); %再进行变异<br>    XY = bs2rv(SelCh,FieldD); %将子代转换为十进制<br>    x = XY(:,1);<br>    y = XY(:,2);<br>    ObjVSel = y.\</em>sin(2*pi*x)+x.*cos(2*pi*y); %计算子代的函数值<br>    [Chrom,ObjV] = reins(Chrom,SelCh,1,1,ObjV,ObjVSel); %基于适应度的选择，将子代重新插入到父代中<br>    XY = bs2rv(Chrom,FieldD); %重新计算，方便在写入trace时使用<br>    gen = gen + 1; %迭代次数+1<br>    [Y,I] = max(ObjV);<br>    trace(1:2,gen) = XY(I,:);  %记录下来每次迭代最优的xy<br>    trace(3,gen) = Y; %记录下来最优值<br>end<br>plot3(trace(1,:),trace(2,:),trace(3,:),’bo’); %在figure1画出每代的最优点<br>grid on;<br>plot3(XY(:,1),XY(:,2),ObjV,’bo’);  %画出最后一代的种群<br>hold off<br>%%画出进化图<br>figure(2);<br>plot(1:MaxGen,trace(3,:));<br>grid on;<br>xlabel(‘遗传代数’);<br>ylabel(‘解的变化’);<br>title(‘进化过程’);<br>bestZ = trace(3,end);<br>bestX = trace(1,end);<br>bestY = trace(2,end);<br>fprintf([‘最优解：\nX=’,num2str(bestX),’\nY=’,num2str(bestY),’\n最大值为=’,num2str(bestZ)]);</p>
<p>结果： <img src="http://47.100.4.8/wp-content/uploads/2018/07/12.png" alt=""> <img src="http://47.100.4.8/wp-content/uploads/2018/07/13.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.strivezs.com/blogs/2018/07/11/gei-matlab-an-zhuang-yi-chuan-suan-fa-gong-ju-xiang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="StriveZs">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blogs/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="StriveZs的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blogs/2018/07/11/gei-matlab-an-zhuang-yi-chuan-suan-fa-gong-ju-xiang/" itemprop="url">给MatLab安装遗传算法工具箱</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-11T16:41:19+08:00">
                2018-07-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/MatLab/" itemprop="url" rel="index">
                    <span itemprop="name">MatLab</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blogs/categories/MatLab/%E6%96%87%E7%AB%A0%E9%A1%B5/" itemprop="url" rel="index">
                    <span itemprop="name">文章页</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180706191552.png" alt=""></p>
<p><strong>今天介绍一下如何给MatLab安装遗传算法工具箱（gatbx）</strong></p>
<p>之前参考过网上的许多办法，总结了一下，因为写的对我的MatLab版本都不太合适，每个都有要调整的地方（ps：这也许就我是这样吧）总之也是给matlab新版的朋友提供一个方法吧。 <strong>首先先去官网下载工具箱</strong> 之前看好多人在CSDN上上传该工具箱，都要5到10个C币，这也太黑了，官网上明明免费好不？ 下面是链接：<a href="http://codem.group.shef.ac.uk/index.php/ga-toolbox" target="_blank" rel="noopener">http://codem.group.shef.ac.uk/index.php/ga-toolbox</a> <strong>文件名批量修改</strong> 下载完解压完文件之后会看到一些文件如下： <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180711162859.png" alt=""> 这些后缀为.M的M文件都需要改为.m文件，否则会报错的。 注意：这里不能直接修改 首先创建一个txt文件，将<strong>ren *.M *.jpg</strong>写入文件中，然后将txt文件修改为.bat文件， 运行之后再创建一个txt文件将<strong>ren *.jpg *.m</strong>写入文件中，然后将txt文件修改为.bat文件。 运行结束之后会发现所有.M的文件后缀都改为了.m。这样对文件的修改就ok了！ <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180711163515.png" alt=""> <strong>安装工具箱</strong> 将解压出来的两个文件放到../MatLab/toolbox文件目录下 <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180711163429.png" alt=""> 然后打开MatLab在命令行输入<strong>pathtool</strong>，然后点击添加文件夹 <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180711163744.png" alt=""> 将需要安装的工具箱所在文件夹选择即可。 <strong>Finally</strong> 测试一下：在命令行中输入<strong>v = ver(‘gatbx’)’</strong> 如果显示关于工具箱的相关信息则证明你安装成功了。 <img src="http://47.100.4.8/wp-content/uploads/2018/07/QQ%E5%9B%BE%E7%89%8720180711163918.png" alt="">   End！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blogs/page/12/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/blogs/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blogs/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/blogs/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/blogs/page/26/">26</a><a class="extend next" rel="next" href="/blogs/page/14/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/blogs/images/avatar.JPG"
                alt="StriveZs" />
            
              <p class="site-author-name" itemprop="name">StriveZs</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/blogs/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">252</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">162</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/blogs/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">StriveZs</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/blogs/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/blogs/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/blogs/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/blogs/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blogs/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blogs/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/blogs/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blogs/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/blogs/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blogs/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/blogs/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
